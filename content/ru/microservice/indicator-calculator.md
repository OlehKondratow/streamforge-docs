+++
title = "indicator-calculator"
weight = 13
[params]
  menuPre = '<i class="fa-fw fas fa-chart-pie"></i>'
+++

## üîπ **1. RSI (Relative Strength Index)**

$$
RSI = 100 - \frac{100}{1 + RS}
$$

–≥–¥–µ

$$
RS = \frac{\text{AvgGain}_{n}}{\text{AvgLoss}_{n}}
$$

* $n$ ‚Äî –æ–∫–Ω–æ (–æ–±—ã—á–Ω–æ 14).
* AvgGain = —Å—Ä–µ–¥–Ω–∏–π —Ä–æ—Å—Ç –∑–∞ $n$ –ø–µ—Ä–∏–æ–¥–æ–≤.
* AvgLoss = —Å—Ä–µ–¥–Ω–µ–µ –ø–∞–¥–µ–Ω–∏–µ –∑–∞ $n$ –ø–µ—Ä–∏–æ–¥–æ–≤.

---

## üîπ **2. MACD (Moving Average Convergence Divergence)**

$$
MACD = EMA_{fast}(Price) - EMA_{slow}(Price)
$$

$$
Signal = EMA_{signal}(MACD)
$$

$$
Histogram = MACD - Signal
$$

* fast = 12, slow = 26, signal = 9 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

---

## üîπ **3. Bollinger Bands (BBands)**

$$
Middle = SMA_n(Price)
$$

$$
Upper = Middle + k \cdot \sigma
$$

$$
Lower = Middle - k \cdot \sigma
$$

* $n$ ‚Äî –¥–ª–∏–Ω–∞ –æ–∫–Ω–∞ (–æ–±—ã—á–Ω–æ 20).
* $\sigma$ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã.
* $k$ ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å (–æ–±—ã—á–Ω–æ 2).

---

## üîπ **4. ATR (Average True Range)**

$$
TR_t = \max(High_t - Low_t, |High_t - Close_{t-1}|, |Low_t - Close_{t-1}|)
$$

$$
ATR = SMA_n(TR)
$$

---

## üîπ **5. Support / Resistance**

* –õ–æ–∫–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º—É–º –≤ –æ–∫–Ω–µ $n$:

$$
is\_support_t = Price_t = \min(Price_{t-n}, \dots, Price_{t+n})
$$

* –õ–æ–∫–∞–ª—å–Ω—ã–π –º–∞–∫—Å–∏–º—É–º:

$$
is\_resistance_t = Price_t = \max(Price_{t-n}, \dots, Price_{t+n})
$$

* –£—Ä–æ–≤–Ω–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è (cluster) —Å —Ç–æ–ª–µ—Ä–∞–Ω—Å–æ–º $\pm tol$.

---

## üîπ **6. Fear & Greed Index (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)**

$$
FGI = w_1 \cdot RSI + w_2 \cdot \frac{Volume}{SMA(Volume)} + w_3 \cdot \frac{|Price - SR\_Level|}{Price}
$$

* –ù–æ—Ä–º–∏—Ä—É–µ–º –≤ –¥–∏–∞–ø–∞–∑–æ–Ω \[0, 100].
* –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è: **<30 ‚Üí —Å—Ç—Ä–∞—Ö, >70 ‚Üí –∂–∞–¥–Ω–æ—Å—Ç—å**.

---

## üîπ **7. VWAP (Volume Weighted Average Price)**

$$
VWAP_t = \frac{\sum_{i=1}^{t} (Price_i \cdot Volume_i)}{\sum_{i=1}^{t} Volume_i}
$$

---

## üîπ **8. OBV (On Balance Volume)**

$$
OBV_t = OBV_{t-1} +
\begin{cases} 
+Volume_t, & Price_t > Price_{t-1} \\ 
-Volume_t, & Price_t < Price_{t-1} \\
0, & \text{–∏–Ω–∞—á–µ} 
\end{cases}
$$

---

## üîπ **9. SuperTrend**

$$
BasicUpperBand = \frac{High + Low}{2} + m \cdot ATR
$$

$$
BasicLowerBand = \frac{High + Low}{2} - m \cdot ATR
$$

* $m$ ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3).
* SuperTrend = –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è ¬´–ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è¬ª –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–±–æ—è —Ü–µ–Ω–æ–π.

---

## üîπ **10. Volume Profile (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –æ–±—ä—ë–º–æ–≤ –ø–æ —Ü–µ–Ω–æ–≤—ã–º —É—Ä–æ–≤–Ω—è–º)**

$$
VP(p) = \sum_{i} Volume_i \quad \text{–¥–ª—è –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ —Å —Ü–µ–Ω–æ–π –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ } [p, p+\Delta p]
$$

* $\Delta p$ ‚Äî —à–∞–≥ —Ü–µ–Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è.

---

## üîπ **11. Imbalance (Order Book Imbalance)**

$$
Imbalance = \frac{\sum Bids - \sum Asks}{\sum Bids + \sum Asks}
$$

* –í –Ω–æ—Ä–º–µ –æ—Ç -1 –¥–æ 1.
* > 0 ‚Üí –ø–µ—Ä–µ–≤–µ—Å –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π, <0 ‚Üí –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

## üîπ **12. FGI –∏ Support/Resistance**

   * **FGI (Fear & Greed Index)** ‚Äî —ç—Ç–æ –Ω–µ —á–∏—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∞ ¬´–º–µ—Ç–∞-–æ—Ü–µ–Ω–∫–∞¬ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è. –í —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –µ–≥–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏, –æ–±—ä—ë–º–æ–≤ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —É—Ä–æ–≤–Ω–µ–π:

     $$
     FGI = w_1 \cdot RSI + w_2 \cdot \frac{\text{Volume}}{\text{MA(Volume)}} + w_3 \cdot \frac{|Price - SR\_Level|}{Price}
     $$

     –≥–¥–µ $w_i$ ‚Äî –≤–µ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.4, 0.3, 0.3). –ò—Ç–æ–≥ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤ –¥–∏–∞–ø–∞–∑–æ–Ω \[0,100].

     > **FGI < 30** ‚Üí —Å—Ç—Ä–∞—Ö (—Ä—ã–Ω–æ–∫ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω), **FGI > 70** ‚Üí –∂–∞–¥–Ω–æ—Å—Ç—å (–ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω).

   * **Support / Resistance**
     –ê–ª–≥–æ—Ä–∏—Ç–º:

     1. –í—ã—á–∏—Å–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–µ–º—É–º—ã (—Å –ø–æ–º–æ—â—å—é `argrelextrema` –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Ç–µ—Ä—ã —É—Ä–æ–≤–Ω–µ–π).
     2. –ö–ª–∞—Å—Ç–µ—Ä—ã —É—Ä–æ–≤–Ω–µ–π –∞–≥–≥—Ä–µ–≥–∏—Ä—É–µ–º —Å `tol` = 0.1‚Äì0.5%.
     3. –°–∏–≥–Ω–∞–ª—ã:

        * **–ü—Ä–æ–±–æ–π –≤–≤–µ—Ä—Ö**: —Ü–µ–Ω–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –±–ª–∏–∂–∞–π—à–∏–π resistance —Å —Ä–æ—Å—Ç–æ–º –æ–±—ä—ë–º–∞ ‚Üí —Å–∏–≥–Ω–∞–ª –Ω–∞ buy.
        * **–û—Ç–±–æ–π –≤–Ω–∏–∑**: —Ü–µ–Ω–∞ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è –æ—Ç support (—Ä–∞–∑–≤–æ—Ä–æ—Ç —Å–≤–µ—á–∏ + RSI < 30) ‚Üí buy.
        * –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è short –ø—Ä–∏ –ø—Ä–æ–±–æ–µ –≤–Ω–∏–∑ –∏–ª–∏ –æ—Ç–±–æ–µ –æ—Ç resistance.

## üîπ **13. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**

   * **VWAP (Volume Weighted Average Price)**:

     $$
     VWAP = \frac{\sum (Price_i \cdot Volume_i)}{\sum Volume_i}
     $$

     –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ backfill: –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–∏–¥–Ω–µ–≤–Ω–æ–π VWAP –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –≤—ã—à–µ/–Ω–∏–∂–µ –ª–∏ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞.

   * **OBV (On Balance Volume)**:

     $$
     OBV_t = OBV_{t-1} + \begin{cases} 
     Volume_t, & Price_t > Price_{t-1} \\ 
     -Volume_t, & Price_t < Price_{t-1} \\
     0, & \text{–∏–Ω–∞—á–µ} 
     \end{cases}
     $$

     –†–æ—Å—Ç —Ü–µ–Ω—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ OBV –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ç—Ä–µ–Ω–¥.

   * **SuperTrend** (—Ç—Ä–µ–Ω–¥–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä):
     –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ ATR:

     $$
     \text{UpperBand} = \frac{High+Low}{2} + m \cdot ATR
     $$

     $$
     \text{LowerBand} = \frac{High+Low}{2} - m \cdot ATR
     $$

     –≥–¥–µ $m$ ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3). –õ–∏–Ω–∏—è SuperTrend –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–±–æ—è —Å–≤–µ—á–æ–π.

## üîπ **14. Backfill —á–µ—Ä–µ–∑ Kafka**
   –í—Å—ë –ª–æ–≥–∏—á–Ω–æ:

   * —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Å—é–º–µ—Ä–∞ —Å `group.id = f"backfill-{time.time()}"`,
   * `auto_offset_reset="earliest"`,
   * –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–∞—á–∞–ª–∞ —Ç–æ–ø–∏–∫–æ–≤ `orderbook/trades`,
   * –∞–≥—Ä–µ–≥–∏—Ä—É–µ–º –≤ —Å–≤–µ—á–∏ + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã,
   * –ø—É–±–ª–∏–∫—É–µ–º —Ç–æ–ª—å–∫–æ –≤ **—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–æ–ø–∏–∫** (interactive –æ—Ç–∫–ª—é—á–∞–µ–º),
   * –∑–∞–≤–µ—Ä—à–∞–µ–º consumer –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ü–∞ –ª–æ–≥–∞.